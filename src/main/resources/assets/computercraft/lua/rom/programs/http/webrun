--Made by Wilma456
local tArgs = {...}

if not tArgs[1] then
  print("Usage: webrun <url> <args>")
  return 1
end

if not http then
  print("Please enable http in the config")
  return 3
end

local test, text = http.checkURL(tArgs[1])
if test == false then
  print("[Error]"..text)
  return 4
end

local data = http.get(tArgs[1])
if not(data) then
  print("Error while getting the program")
  return 5
end

local program = data.readAll()
data.close()
local run, err = load(program)
if not(run) then
  local oldcolor = term.getTextColor()
  term.setTextColor(colors.red)
  print(err)
  term.setTextColor(oldcolor)
  return 6
end

table.remove(tArgs,1)
run(table.unpack(tArgs))

return 0
